<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>iCue Ambilight</title>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="src/css/bulmaswatch.min.css">
  <style>
    .source:hover, .source:focus, .selected {
      box-shadow: 0 0 0 0.125em rgba(50,115,226,.25);
    }
  </style>
</head>

<body>
  <section class="section">
    <div class="container" style="display: flex; flex-direction: row; justify-content: space-around;">
      <img src="./src/img/icons/icon.png" alt="icue-ambilight" style="height: 96px; margin: 16px;">
      <div style="width: 100%; display: flex; flex-direction: column; justify-content: center; height: 96px;">
        <h1 class="title is-3">
          iCue Ambilight
        </h1>
        <p class="subtitle is-5">
          Synchronise your iCue compatible devices with the content displayed on your screen.
        </p>
      </div>
    </div>
    <div class="container" style="display: flex; flex-direction: row; justify-content: flex-start;">
      <a id="git"><img src="https://git-scm.com/images/logos/downloads/Git-Icon-White.png" style="height: 48px; margin: 8px;"></a>
    </div>
  </section>
  <!--<section class="section">
    <div class="container">
      <h1 class="title is-5">
        Control
      </h1>
      <button id="refreshSources" class="button is-rounded">Refresh Sources</button>
      <button id="startAmbilight" class="button is-rounded">Start Ambilight</button>
    </div>
  </section>-->
  <section class="section">
    <div class="container">
      <h1 class="title is-5" id="refreshSources">Sources <button class="button is-rounded is-small">Refresh</button></h1>
      <div id="sources">
        
      </div>
    </div>
  </section>
  <section class="section">
    <div class="container">
      <h1 class="title is-5">
        Capture previews <button class="button is-rounded is-small" onclick="document.getElementById('captures').classList.toggle('is-hidden')">Hide to lower CPU Usage</button>
      </h1>
      <div id="captures" class="columns">
        <div class="column">
          <p><b>Video capture :</b></p>
          <video id="video" autoplay controls></video>
        </div>
        <div class="column">
          <p><b>Leds Canvas :</b></p>
          <p>Before black bar detection :</p>
          <canvas id="c2" style="height: auto; width: 100%;"></canvas>
          <p>After black bar detection :</p>
          <canvas id="c1" style="height: auto; width: 100%;"></canvas>
        </div>
      </div>
    </div>
  </section>
  <script>
    require('./renderer.js')
  </script>
</body>

</html>